//  File:   Timer1_Utils.c
//  Date:   02/24/2018
//  Name:   Mark Schuster
//  Class:  EEE4511C (DSP)

#include "msLib.h"

/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 48000 Hz

* 0 Hz - 900 Hz
  gain = 1
  desired ripple = 3 dB
  actual ripple = 1.137775743529212 dB

* 3000 Hz - 24000 Hz
  gain = 0
  desired attenuation = -40 dB
  actual attenuation = -46.32607069967203 dB

*/



float lpfWeights[FILTER_TAP_NUM] = {
  -0.0035807105595858225,
  -0.0027113714082619617,
  -0.003430281365194521,
  -0.003990870615977486,
  -0.0042547277820499,
  -0.0040726706599211,
  -0.0032944840474960946,
  -0.001774353820312623,
  0.0006066800775853618,
  0.003921042637372753,
  0.008209045837431076,
  0.013436867146017923,
  0.01951742617383644,
  0.026294250694239442,
  0.03355284281728997,
  0.041025291869561366,
  0.04840983578484427,
  0.05538483882067695,
  0.06162792748116232,
  0.06684095947545805,
  0.07076526848028382,
  0.07320335545126845,
  0.07402982035512513,
  0.07320335545126845,
  0.07076526848028382,
  0.06684095947545805,
  0.06162792748116232,
  0.05538483882067695,
  0.04840983578484427,
  0.041025291869561366,
  0.03355284281728997,
  0.026294250694239442,
  0.01951742617383644,
  0.013436867146017923,
  0.008209045837431076,
  0.003921042637372753,
  0.0006066800775853618,
  -0.001774353820312623,
  -0.0032944840474960946,
  -0.0040726706599211,
  -0.0042547277820499,
  -0.003990870615977486,
  -0.003430281365194521,
  -0.0027113714082619617,
  -0.0035807105595858225
};



void initLpfWeights(float* weights, Uint16 len, Uint16 scaler)
{
    for(Uint16 i=0;i<len;i++)
        weights[i] = (float)scaler*weights[i];

}

float lpf(float* weights, float* samples)
{


	return 0.0;
}

float hpf(float* weights, Uint16* samples);

float bpf(float* weights, Uint16* samples);

