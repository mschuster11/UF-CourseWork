//  File:   Interrupt_ISRs.c
//  Date:   02/24/2018
//  Name:   Mark Schuster
//  Class:  EEE4511C (DSP)

#include "msLib.h"

/*
Uint16 sine15Hz[] = {0x8000,0x8040,0x8080,0x80c1,0x8101,0x8141,0x8182,0x81c2,0x8202,0x8243,0x8283,0x82c3,
                    0x8303,0x8344,0x8384,0x83c4,0x8405,0x8445,0x8485,0x84c6,0x8506,0x8546,0x8587,0x85c7,
                    0x8607,0x8647,0x8688,0x86c8,0x8708,0x8748,0x8789,0x87c9,0x8809,0x8849,0x8889,0x88ca,
                    0x890a,0x894a,0x898a,0x89ca,0x8a0a,0x8a4b,0x8a8b,0x8acb,0x8b0b,0x8b4b,0x8b8b,0x8bcb,
                    0x8c0b,0x8c4b,0x8c8b,0x8ccb,0x8d0b,0x8d4b,0x8d8b,0x8dcb,0x8e0b,0x8e4b,0x8e8b,0x8ecb,
                    0x8f0b,0x8f4b,0x8f8b,0x8fcb,0x900a,0x904a,0x908a,0x90ca,0x910a,0x9149,0x9189,0x91c9,
                    0x9208,0x9248,0x9288,0x92c7,0x9307,0x9347,0x9386,0x93c6,0x9405,0x9445,0x9485,0x94c4,
                    0x9503,0x9543,0x9582,0x95c2,0x9601,0x9641,0x9680,0x96bf,0x96ff,0x973e,0x977d,0x97bc,
                    0x97fc,0x983b,0x987a,0x98b9,0x98f8,0x9937,0x9976,0x99b5,0x99f4,0x9a33,0x9a72,0x9ab1,
                    0x9af0,0x9b2f,0x9b6e,0x9bad,0x9bec,0x9c2a,0x9c69,0x9ca8,0x9ce6,0x9d25,0x9d64,0x9da2,
                    0x9de1,0x9e1f,0x9e5e,0x9e9c,0x9edb,0x9f19,0x9f58,0x9f96,0x9fd4,0xa013,0xa051,0xa08f,
                    0xa0cd,0xa10c,0xa14a,0xa188,0xa1c6,0xa204,0xa242,0xa280,0xa2be,0xa2fc,0xa33a,0xa378,
                    0xa3b5,0xa3f3,0xa431,0xa46f,0xa4ac,0xa4ea,0xa527,0xa565,0xa5a2,0xa5e0,0xa61d,0xa65b,
                    0xa698,0xa6d5,0xa713,0xa750,0xa78d,0xa7ca,0xa808,0xa845,0xa882,0xa8bf,0xa8fc,0xa939,
                    0xa975,0xa9b2,0xa9ef,0xaa2c,0xaa69,0xaaa5,0xaae2,0xab1f,0xab5b,0xab98,0xabd4,0xac11,
                    0xac4d,0xac89,0xacc6,0xad02,0xad3e,0xad7a,0xadb6,0xadf2,0xae2e,0xae6a,0xaea6,0xaee2,
                    0xaf1e,0xaf5a,0xaf96,0xafd1,0xb00d,0xb049,0xb084,0xb0c0,0xb0fb,0xb136,0xb172,0xb1ad,
                    0xb1e8,0xb224,0xb25f,0xb29a,0xb2d5,0xb310,0xb34b,0xb386,0xb3c1,0xb3fc,0xb436,0xb471,
                    0xb4ac,0xb4e6,0xb521,0xb55b,0xb596,0xb5d0,0xb60b,0xb645,0xb67f,0xb6b9,0xb6f4,0xb72e,
                    0xb768,0xb7a2,0xb7dc,0xb815,0xb84f,0xb889,0xb8c3,0xb8fc,0xb936,0xb96f,0xb9a9,0xb9e2,
                    0xba1c,0xba55,0xba8e,0xbac7,0xbb00,0xbb3a,0xbb73,0xbbac,0xbbe4,0xbc1d,0xbc56,0xbc8f,
                    0xbcc7,0xbd00,0xbd38,0xbd71,0xbda9,0xbde2,0xbe1a,0xbe52,0xbe8a,0xbec3,0xbefb,0xbf33,
                    0xbf6a,0xbfa2,0xbfda,0xc012,0xc049,0xc081,0xc0b9,0xc0f0,0xc128,0xc15f,0xc196,0xc1cd,
                    0xc205,0xc23c,0xc273,0xc2aa,0xc2e0,0xc317,0xc34e,0xc385,0xc3bb,0xc3f2,0xc428,0xc45f,
                    0xc495,0xc4cb,0xc502,0xc538,0xc56e,0xc5a4,0xc5da,0xc610,0xc646,0xc67b,0xc6b1,0xc6e7,
                    0xc71c,0xc752,0xc787,0xc7bc,0xc7f2,0xc827,0xc85c,0xc891,0xc8c6,0xc8fb,0xc930,0xc964,
                    0xc999,0xc9ce,0xca02,0xca37,0xca6b,0xca9f,0xcad4,0xcb08,0xcb3c,0xcb70,0xcba4,0xcbd8,
                    0xcc0b,0xcc3f,0xcc73,0xcca6,0xccda,0xcd0d,0xcd41,0xcd74,0xcda7,0xcdda,0xce0d,0xce40,
                    0xce73,0xcea6,0xced8,0xcf0b,0xcf3e,0xcf70,0xcfa3,0xcfd5,0xd007,0xd039,0xd06b,0xd09d,
                    0xd0cf,0xd101,0xd133,0xd165,0xd196,0xd1c8,0xd1f9,0xd22b,0xd25c,0xd28d,0xd2be,0xd2ef,
                    0xd320,0xd351,0xd382,0xd3b3,0xd3e3,0xd414,0xd444,0xd475,0xd4a5,0xd4d5,0xd505,0xd535,
                    0xd565,0xd595,0xd5c5,0xd5f5,0xd624,0xd654,0xd683,0xd6b3,0xd6e2,0xd711,0xd740,0xd76f,
                    0xd79e,0xd7cd,0xd7fc,0xd82b,0xd859,0xd888,0xd8b6,0xd8e5,0xd913,0xd941,0xd96f,0xd99d,
                    0xd9cb,0xd9f9,0xda26,0xda54,0xda82,0xdaaf,0xdadc,0xdb0a,0xdb37,0xdb64,0xdb91,0xdbbe,
                    0xdbeb,0xdc17,0xdc44,0xdc71,0xdc9d,0xdcc9,0xdcf6,0xdd22,0xdd4e,0xdd7a,0xdda6,0xddd2,
                    0xddfd,0xde29,0xde55,0xde80,0xdeab,0xded7,0xdf02,0xdf2d,0xdf58,0xdf83,0xdfad,0xdfd8,
                    0xe003,0xe02d,0xe058,0xe082,0xe0ac,0xe0d6,0xe100,0xe12a,0xe154,0xe17e,0xe1a7,0xe1d1,
                    0xe1fa,0xe224,0xe24d,0xe276,0xe29f,0xe2c8,0xe2f1,0xe31a,0xe343,0xe36b,0xe394,0xe3bc,
                    0xe3e4,0xe40c,0xe435,0xe45c,0xe484,0xe4ac,0xe4d4,0xe4fb,0xe523,0xe54a,0xe572,0xe599,
                    0xe5c0,0xe5e7,0xe60e,0xe634,0xe65b,0xe682,0xe6a8,0xe6cf,0xe6f5,0xe71b,0xe741,0xe767,
                    0xe78d,0xe7b3,0xe7d8,0xe7fe,0xe823,0xe849,0xe86e,0xe893,0xe8b8,0xe8dd,0xe902,0xe927,
                    0xe94b,0xe970,0xe994,0xe9b9,0xe9dd,0xea01,0xea25,0xea49,0xea6d,0xea90,0xeab4,0xead7,
                    0xeafb,0xeb1e,0xeb41,0xeb64,0xeb87,0xebaa,0xebcd,0xebef,0xec12,0xec34,0xec57,0xec79,
                    0xec9b,0xecbd,0xecdf,0xed01,0xed22,0xed44,0xed65,0xed87,0xeda8,0xedc9,0xedea,0xee0b,
                    0xee2c,0xee4d,0xee6d,0xee8e,0xeeae,0xeece,0xeeee,0xef0e,0xef2e,0xef4e,0xef6e,0xef8e,
                    0xefad,0xefcc,0xefec,0xf00b,0xf02a,0xf049,0xf068,0xf086,0xf0a5,0xf0c3,0xf0e2,0xf100,
                    0xf11e,0xf13c,0xf15a,0xf178,0xf196,0xf1b3,0xf1d1,0xf1ee,0xf20c,0xf229,0xf246,0xf263,
                    0xf27f,0xf29c,0xf2b9,0xf2d5,0xf2f2,0xf30e,0xf32a,0xf346,0xf362,0xf37e,0xf399,0xf3b5,
                    0xf3d0,0xf3ec,0xf407,0xf422,0xf43d,0xf458,0xf473,0xf48d,0xf4a8,0xf4c2,0xf4dd,0xf4f7,
                    0xf511,0xf52b,0xf545,0xf55e,0xf578,0xf592,0xf5ab,0xf5c4,0xf5dd,0xf5f6,0xf60f,0xf628,
                    0xf641,0xf659,0xf672,0xf68a,0xf6a2,0xf6ba,0xf6d2,0xf6ea,0xf702,0xf71a,0xf731,0xf748,
                    0xf760,0xf777,0xf78e,0xf7a5,0xf7bc,0xf7d2,0xf7e9,0xf7ff,0xf816,0xf82c,0xf842,0xf858,
                    0xf86e,0xf884,0xf899,0xf8af,0xf8c4,0xf8d9,0xf8ee,0xf903,0xf918,0xf92d,0xf942,0xf956,
                    0xf96b,0xf97f,0xf993,0xf9a7,0xf9bb,0xf9cf,0xf9e3,0xf9f6,0xfa0a,0xfa1d,0xfa30,0xfa43,
                    0xfa56,0xfa69,0xfa7c,0xfa8f,0xfaa1,0xfab4,0xfac6,0xfad8,0xfaea,0xfafc,0xfb0e,0xfb1f,
                    0xfb31,0xfb42,0xfb53,0xfb65,0xfb76,0xfb87,0xfb97,0xfba8,0xfbb9,0xfbc9,0xfbd9,0xfbe9,
                    0xfbfa,0xfc09,0xfc19,0xfc29,0xfc39,0xfc48,0xfc57,0xfc67,0xfc76,0xfc85,0xfc93,0xfca2,
                    0xfcb1,0xfcbf,0xfcce,0xfcdc,0xfcea,0xfcf8,0xfd06,0xfd13,0xfd21,0xfd2e,0xfd3c,0xfd49,
                    0xfd56,0xfd63,0xfd70,0xfd7d,0xfd89,0xfd96,0xfda2,0xfdae,0xfdbb,0xfdc7,0xfdd2,0xfdde,
                    0xfdea,0xfdf5,0xfe01,0xfe0c,0xfe17,0xfe22,0xfe2d,0xfe38,0xfe42,0xfe4d,0xfe57,0xfe61,
                    0xfe6c,0xfe76,0xfe7f,0xfe89,0xfe93,0xfe9c,0xfea6,0xfeaf,0xfeb8,0xfec1,0xfeca,0xfed3,
                    0xfedb,0xfee4,0xfeec,0xfef4,0xfefd,0xff05,0xff0c,0xff14,0xff1c,0xff23,0xff2b,0xff32,
                    0xff39,0xff40,0xff47,0xff4e,0xff54,0xff5b,0xff61,0xff67,0xff6e,0xff74,0xff79,0xff7f,
                    0xff85,0xff8a,0xff90,0xff95,0xff9a,0xff9f,0xffa4,0xffa9,0xffad,0xffb2,0xffb6,0xffba,
                    0xffbe,0xffc2,0xffc6,0xffca,0xffcd,0xffd1,0xffd4,0xffd8,0xffdb,0xffde,0xffe0,0xffe3,
                    0xffe6,0xffe8,0xffeb,0xffed,0xffef,0xfff1,0xfff3,0xfff4,0xfff6,0xfff7,0xfff9,0xfffa,
                    0xfffb,0xfffc,0xfffd,0xfffd,0xfffe,0xfffe,0xffff,0xffff,0xffff,0xffff,0xffff,0xfffe,
                    0xfffe,0xfffd,0xfffd,0xfffc,0xfffb,0xfffa,0xfff9,0xfff7,0xfff6,0xfff4,0xfff3,0xfff1,
                    0xffef,0xffed,0xffeb,0xffe8,0xffe6,0xffe3,0xffe0,0xffde,0xffdb,0xffd8,0xffd4,0xffd1,
                    0xffcd,0xffca,0xffc6,0xffc2,0xffbe,0xffba,0xffb6,0xffb2,0xffad,0xffa9,0xffa4,0xff9f,
                    0xff9a,0xff95,0xff90,0xff8a,0xff85,0xff7f,0xff79,0xff74,0xff6e,0xff67,0xff61,0xff5b,
                    0xff54,0xff4e,0xff47,0xff40,0xff39,0xff32,0xff2b,0xff23,0xff1c,0xff14,0xff0c,0xff05,
                    0xfefd,0xfef4,0xfeec,0xfee4,0xfedb,0xfed3,0xfeca,0xfec1,0xfeb8,0xfeaf,0xfea6,0xfe9c,
                    0xfe93,0xfe89,0xfe7f,0xfe76,0xfe6c,0xfe61,0xfe57,0xfe4d,0xfe42,0xfe38,0xfe2d,0xfe22,
                    0xfe17,0xfe0c,0xfe01,0xfdf5,0xfdea,0xfdde,0xfdd2,0xfdc7,0xfdbb,0xfdae,0xfda2,0xfd96,
                    0xfd89,0xfd7d,0xfd70,0xfd63,0xfd56,0xfd49,0xfd3c,0xfd2e,0xfd21,0xfd13,0xfd06,0xfcf8,
                    0xfcea,0xfcdc,0xfcce,0xfcbf,0xfcb1,0xfca2,0xfc93,0xfc85,0xfc76,0xfc67,0xfc57,0xfc48,
                    0xfc39,0xfc29,0xfc19,0xfc09,0xfbfa,0xfbe9,0xfbd9,0xfbc9,0xfbb9,0xfba8,0xfb97,0xfb87,
                    0xfb76,0xfb65,0xfb53,0xfb42,0xfb31,0xfb1f,0xfb0e,0xfafc,0xfaea,0xfad8,0xfac6,0xfab4,
                    0xfaa1,0xfa8f,0xfa7c,0xfa69,0xfa56,0xfa43,0xfa30,0xfa1d,0xfa0a,0xf9f6,0xf9e3,0xf9cf,
                    0xf9bb,0xf9a7,0xf993,0xf97f,0xf96b,0xf956,0xf942,0xf92d,0xf918,0xf903,0xf8ee,0xf8d9,
                    0xf8c4,0xf8af,0xf899,0xf884,0xf86e,0xf858,0xf842,0xf82c,0xf816,0xf7ff,0xf7e9,0xf7d2,
                    0xf7bc,0xf7a5,0xf78e,0xf777,0xf760,0xf748,0xf731,0xf71a,0xf702,0xf6ea,0xf6d2,0xf6ba,
                    0xf6a2,0xf68a,0xf672,0xf659,0xf641,0xf628,0xf60f,0xf5f6,0xf5dd,0xf5c4,0xf5ab,0xf592,
                    0xf578,0xf55e,0xf545,0xf52b,0xf511,0xf4f7,0xf4dd,0xf4c2,0xf4a8,0xf48d,0xf473,0xf458,
                    0xf43d,0xf422,0xf407,0xf3ec,0xf3d0,0xf3b5,0xf399,0xf37e,0xf362,0xf346,0xf32a,0xf30e,
                    0xf2f2,0xf2d5,0xf2b9,0xf29c,0xf27f,0xf263,0xf246,0xf229,0xf20c,0xf1ee,0xf1d1,0xf1b3,
                    0xf196,0xf178,0xf15a,0xf13c,0xf11e,0xf100,0xf0e2,0xf0c3,0xf0a5,0xf086,0xf068,0xf049,
                    0xf02a,0xf00b,0xefec,0xefcc,0xefad,0xef8e,0xef6e,0xef4e,0xef2e,0xef0e,0xeeee,0xeece,
                    0xeeae,0xee8e,0xee6d,0xee4d,0xee2c,0xee0b,0xedea,0xedc9,0xeda8,0xed87,0xed65,0xed44,
                    0xed22,0xed01,0xecdf,0xecbd,0xec9b,0xec79,0xec57,0xec34,0xec12,0xebef,0xebcd,0xebaa,
                    0xeb87,0xeb64,0xeb41,0xeb1e,0xeafb,0xead7,0xeab4,0xea90,0xea6d,0xea49,0xea25,0xea01,
                    0xe9dd,0xe9b9,0xe994,0xe970,0xe94b,0xe927,0xe902,0xe8dd,0xe8b8,0xe893,0xe86e,0xe849,
                    0xe823,0xe7fe,0xe7d8,0xe7b3,0xe78d,0xe767,0xe741,0xe71b,0xe6f5,0xe6cf,0xe6a8,0xe682,
                    0xe65b,0xe634,0xe60e,0xe5e7,0xe5c0,0xe599,0xe572,0xe54a,0xe523,0xe4fb,0xe4d4,0xe4ac,
                    0xe484,0xe45c,0xe435,0xe40c,0xe3e4,0xe3bc,0xe394,0xe36b,0xe343,0xe31a,0xe2f1,0xe2c8,
                    0xe29f,0xe276,0xe24d,0xe224,0xe1fa,0xe1d1,0xe1a7,0xe17e,0xe154,0xe12a,0xe100,0xe0d6,
                    0xe0ac,0xe082,0xe058,0xe02d,0xe003,0xdfd8,0xdfad,0xdf83,0xdf58,0xdf2d,0xdf02,0xded7,
                    0xdeab,0xde80,0xde55,0xde29,0xddfd,0xddd2,0xdda6,0xdd7a,0xdd4e,0xdd22,0xdcf6,0xdcc9,
                    0xdc9d,0xdc71,0xdc44,0xdc17,0xdbeb,0xdbbe,0xdb91,0xdb64,0xdb37,0xdb0a,0xdadc,0xdaaf,
                    0xda82,0xda54,0xda26,0xd9f9,0xd9cb,0xd99d,0xd96f,0xd941,0xd913,0xd8e5,0xd8b6,0xd888,
                    0xd859,0xd82b,0xd7fc,0xd7cd,0xd79e,0xd76f,0xd740,0xd711,0xd6e2,0xd6b3,0xd683,0xd654,
                    0xd624,0xd5f5,0xd5c5,0xd595,0xd565,0xd535,0xd505,0xd4d5,0xd4a5,0xd475,0xd444,0xd414,
                    0xd3e3,0xd3b3,0xd382,0xd351,0xd320,0xd2ef,0xd2be,0xd28d,0xd25c,0xd22b,0xd1f9,0xd1c8,
                    0xd196,0xd165,0xd133,0xd101,0xd0cf,0xd09d,0xd06b,0xd039,0xd007,0xcfd5,0xcfa3,0xcf70,
                    0xcf3e,0xcf0b,0xced8,0xcea6,0xce73,0xce40,0xce0d,0xcdda,0xcda7,0xcd74,0xcd41,0xcd0d,
                    0xccda,0xcca6,0xcc73,0xcc3f,0xcc0b,0xcbd8,0xcba4,0xcb70,0xcb3c,0xcb08,0xcad4,0xca9f,
                    0xca6b,0xca37,0xca02,0xc9ce,0xc999,0xc964,0xc930,0xc8fb,0xc8c6,0xc891,0xc85c,0xc827,
                    0xc7f2,0xc7bc,0xc787,0xc752,0xc71c,0xc6e7,0xc6b1,0xc67b,0xc646,0xc610,0xc5da,0xc5a4,
                    0xc56e,0xc538,0xc502,0xc4cb,0xc495,0xc45f,0xc428,0xc3f2,0xc3bb,0xc385,0xc34e,0xc317,
                    0xc2e0,0xc2aa,0xc273,0xc23c,0xc205,0xc1cd,0xc196,0xc15f,0xc128,0xc0f0,0xc0b9,0xc081,
                    0xc049,0xc012,0xbfda,0xbfa2,0xbf6a,0xbf33,0xbefb,0xbec3,0xbe8a,0xbe52,0xbe1a,0xbde2,
                    0xbda9,0xbd71,0xbd38,0xbd00,0xbcc7,0xbc8f,0xbc56,0xbc1d,0xbbe4,0xbbac,0xbb73,0xbb3a,
                    0xbb00,0xbac7,0xba8e,0xba55,0xba1c,0xb9e2,0xb9a9,0xb96f,0xb936,0xb8fc,0xb8c3,0xb889,
                    0xb84f,0xb815,0xb7dc,0xb7a2,0xb768,0xb72e,0xb6f4,0xb6b9,0xb67f,0xb645,0xb60b,0xb5d0,
                    0xb596,0xb55b,0xb521,0xb4e6,0xb4ac,0xb471,0xb436,0xb3fc,0xb3c1,0xb386,0xb34b,0xb310,
                    0xb2d5,0xb29a,0xb25f,0xb224,0xb1e8,0xb1ad,0xb172,0xb136,0xb0fb,0xb0c0,0xb084,0xb049,
                    0xb00d,0xafd1,0xaf96,0xaf5a,0xaf1e,0xaee2,0xaea6,0xae6a,0xae2e,0xadf2,0xadb6,0xad7a,
                    0xad3e,0xad02,0xacc6,0xac89,0xac4d,0xac11,0xabd4,0xab98,0xab5b,0xab1f,0xaae2,0xaaa5,
                    0xaa69,0xaa2c,0xa9ef,0xa9b2,0xa975,0xa939,0xa8fc,0xa8bf,0xa882,0xa845,0xa808,0xa7ca,
                    0xa78d,0xa750,0xa713,0xa6d5,0xa698,0xa65b,0xa61d,0xa5e0,0xa5a2,0xa565,0xa527,0xa4ea,
                    0xa4ac,0xa46f,0xa431,0xa3f3,0xa3b5,0xa378,0xa33a,0xa2fc,0xa2be,0xa280,0xa242,0xa204,
                    0xa1c6,0xa188,0xa14a,0xa10c,0xa0cd,0xa08f,0xa051,0xa013,0x9fd4,0x9f96,0x9f58,0x9f19,
                    0x9edb,0x9e9c,0x9e5e,0x9e1f,0x9de1,0x9da2,0x9d64,0x9d25,0x9ce6,0x9ca8,0x9c69,0x9c2a,
                    0x9bec,0x9bad,0x9b6e,0x9b2f,0x9af0,0x9ab1,0x9a72,0x9a33,0x99f4,0x99b5,0x9976,0x9937,
                    0x98f8,0x98b9,0x987a,0x983b,0x97fc,0x97bc,0x977d,0x973e,0x96ff,0x96bf,0x9680,0x9641,
                    0x9601,0x95c2,0x9582,0x9543,0x9503,0x94c4,0x9485,0x9445,0x9405,0x93c6,0x9386,0x9347,
                    0x9307,0x92c7,0x9288,0x9248,0x9208,0x91c9,0x9189,0x9149,0x910a,0x90ca,0x908a,0x904a,
                    0x900a,0x8fcb,0x8f8b,0x8f4b,0x8f0b,0x8ecb,0x8e8b,0x8e4b,0x8e0b,0x8dcb,0x8d8b,0x8d4b,
                    0x8d0b,0x8ccb,0x8c8b,0x8c4b,0x8c0b,0x8bcb,0x8b8b,0x8b4b,0x8b0b,0x8acb,0x8a8b,0x8a4b,
                    0x8a0a,0x89ca,0x898a,0x894a,0x890a,0x88ca,0x8889,0x8849,0x8809,0x87c9,0x8789,0x8748,
                    0x8708,0x86c8,0x8688,0x8647,0x8607,0x85c7,0x8587,0x8546,0x8506,0x84c6,0x8485,0x8445,
                    0x8405,0x83c4,0x8384,0x8344,0x8303,0x82c3,0x8283,0x8243,0x8202,0x81c2,0x8182,0x8141,
                    0x8101,0x80c1,0x8080,0x8040,0x8000,0x7fbf,0x7f7f,0x7f3e,0x7efe,0x7ebe,0x7e7d,0x7e3d,
                    0x7dfd,0x7dbc,0x7d7c,0x7d3c,0x7cfc,0x7cbb,0x7c7b,0x7c3b,0x7bfa,0x7bba,0x7b7a,0x7b39,
                    0x7af9,0x7ab9,0x7a78,0x7a38,0x79f8,0x79b8,0x7977,0x7937,0x78f7,0x78b7,0x7876,0x7836,
                    0x77f6,0x77b6,0x7776,0x7735,0x76f5,0x76b5,0x7675,0x7635,0x75f5,0x75b4,0x7574,0x7534,
                    0x74f4,0x74b4,0x7474,0x7434,0x73f4,0x73b4,0x7374,0x7334,0x72f4,0x72b4,0x7274,0x7234,
                    0x71f4,0x71b4,0x7174,0x7134,0x70f4,0x70b4,0x7074,0x7034,0x6ff5,0x6fb5,0x6f75,0x6f35,
                    0x6ef5,0x6eb6,0x6e76,0x6e36,0x6df7,0x6db7,0x6d77,0x6d38,0x6cf8,0x6cb8,0x6c79,0x6c39,
                    0x6bfa,0x6bba,0x6b7a,0x6b3b,0x6afc,0x6abc,0x6a7d,0x6a3d,0x69fe,0x69be,0x697f,0x6940,
                    0x6900,0x68c1,0x6882,0x6843,0x6803,0x67c4,0x6785,0x6746,0x6707,0x66c8,0x6689,0x664a,
                    0x660b,0x65cc,0x658d,0x654e,0x650f,0x64d0,0x6491,0x6452,0x6413,0x63d5,0x6396,0x6357,
                    0x6319,0x62da,0x629b,0x625d,0x621e,0x61e0,0x61a1,0x6163,0x6124,0x60e6,0x60a7,0x6069,
                    0x602b,0x5fec,0x5fae,0x5f70,0x5f32,0x5ef3,0x5eb5,0x5e77,0x5e39,0x5dfb,0x5dbd,0x5d7f,
                    0x5d41,0x5d03,0x5cc5,0x5c87,0x5c4a,0x5c0c,0x5bce,0x5b90,0x5b53,0x5b15,0x5ad8,0x5a9a,
                    0x5a5d,0x5a1f,0x59e2,0x59a4,0x5967,0x592a,0x58ec,0x58af,0x5872,0x5835,0x57f7,0x57ba,
                    0x577d,0x5740,0x5703,0x56c6,0x568a,0x564d,0x5610,0x55d3,0x5596,0x555a,0x551d,0x54e0,
                    0x54a4,0x5467,0x542b,0x53ee,0x53b2,0x5376,0x5339,0x52fd,0x52c1,0x5285,0x5249,0x520d,
                    0x51d1,0x5195,0x5159,0x511d,0x50e1,0x50a5,0x5069,0x502e,0x4ff2,0x4fb6,0x4f7b,0x4f3f,
                    0x4f04,0x4ec9,0x4e8d,0x4e52,0x4e17,0x4ddb,0x4da0,0x4d65,0x4d2a,0x4cef,0x4cb4,0x4c79,
                    0x4c3e,0x4c03,0x4bc9,0x4b8e,0x4b53,0x4b19,0x4ade,0x4aa4,0x4a69,0x4a2f,0x49f4,0x49ba,
                    0x4980,0x4946,0x490b,0x48d1,0x4897,0x485d,0x4823,0x47ea,0x47b0,0x4776,0x473c,0x4703,
                    0x46c9,0x4690,0x4656,0x461d,0x45e3,0x45aa,0x4571,0x4538,0x44ff,0x44c5,0x448c,0x4453,
                    0x441b,0x43e2,0x43a9,0x4370,0x4338,0x42ff,0x42c7,0x428e,0x4256,0x421d,0x41e5,0x41ad,
                    0x4175,0x413c,0x4104,0x40cc,0x4095,0x405d,0x4025,0x3fed,0x3fb6,0x3f7e,0x3f46,0x3f0f,
                    0x3ed7,0x3ea0,0x3e69,0x3e32,0x3dfa,0x3dc3,0x3d8c,0x3d55,0x3d1f,0x3ce8,0x3cb1,0x3c7a,
                    0x3c44,0x3c0d,0x3bd7,0x3ba0,0x3b6a,0x3b34,0x3afd,0x3ac7,0x3a91,0x3a5b,0x3a25,0x39ef,
                    0x39b9,0x3984,0x394e,0x3918,0x38e3,0x38ad,0x3878,0x3843,0x380d,0x37d8,0x37a3,0x376e,
                    0x3739,0x3704,0x36cf,0x369b,0x3666,0x3631,0x35fd,0x35c8,0x3594,0x3560,0x352b,0x34f7,
                    0x34c3,0x348f,0x345b,0x3427,0x33f4,0x33c0,0x338c,0x3359,0x3325,0x32f2,0x32be,0x328b,
                    0x3258,0x3225,0x31f2,0x31bf,0x318c,0x3159,0x3127,0x30f4,0x30c1,0x308f,0x305c,0x302a,
                    0x2ff8,0x2fc6,0x2f94,0x2f62,0x2f30,0x2efe,0x2ecc,0x2e9a,0x2e69,0x2e37,0x2e06,0x2dd4,
                    0x2da3,0x2d72,0x2d41,0x2d10,0x2cdf,0x2cae,0x2c7d,0x2c4c,0x2c1c,0x2beb,0x2bbb,0x2b8a,
                    0x2b5a,0x2b2a,0x2afa,0x2aca,0x2a9a,0x2a6a,0x2a3a,0x2a0a,0x29db,0x29ab,0x297c,0x294c,
                    0x291d,0x28ee,0x28bf,0x2890,0x2861,0x2832,0x2803,0x27d4,0x27a6,0x2777,0x2749,0x271a,
                    0x26ec,0x26be,0x2690,0x2662,0x2634,0x2606,0x25d9,0x25ab,0x257d,0x2550,0x2523,0x24f5,
                    0x24c8,0x249b,0x246e,0x2441,0x2414,0x23e8,0x23bb,0x238e,0x2362,0x2336,0x2309,0x22dd,
                    0x22b1,0x2285,0x2259,0x222d,0x2202,0x21d6,0x21aa,0x217f,0x2154,0x2128,0x20fd,0x20d2,
                    0x20a7,0x207c,0x2052,0x2027,0x1ffc,0x1fd2,0x1fa7,0x1f7d,0x1f53,0x1f29,0x1eff,0x1ed5,
                    0x1eab,0x1e81,0x1e58,0x1e2e,0x1e05,0x1ddb,0x1db2,0x1d89,0x1d60,0x1d37,0x1d0e,0x1ce5,
                    0x1cbc,0x1c94,0x1c6b,0x1c43,0x1c1b,0x1bf3,0x1bca,0x1ba3,0x1b7b,0x1b53,0x1b2b,0x1b04,
                    0x1adc,0x1ab5,0x1a8d,0x1a66,0x1a3f,0x1a18,0x19f1,0x19cb,0x19a4,0x197d,0x1957,0x1930,
                    0x190a,0x18e4,0x18be,0x1898,0x1872,0x184c,0x1827,0x1801,0x17dc,0x17b6,0x1791,0x176c,
                    0x1747,0x1722,0x16fd,0x16d8,0x16b4,0x168f,0x166b,0x1646,0x1622,0x15fe,0x15da,0x15b6,
                    0x1592,0x156f,0x154b,0x1528,0x1504,0x14e1,0x14be,0x149b,0x1478,0x1455,0x1432,0x1410,
                    0x13ed,0x13cb,0x13a8,0x1386,0x1364,0x1342,0x1320,0x12fe,0x12dd,0x12bb,0x129a,0x1278,
                    0x1257,0x1236,0x1215,0x11f4,0x11d3,0x11b2,0x1192,0x1171,0x1151,0x1131,0x1111,0x10f1,
                    0x10d1,0x10b1,0x1091,0x1071,0x1052,0x1033,0x1013,0xff4,0xfd5,0xfb6,0xf97,0xf79,
                    0xf5a,0xf3c,0xf1d,0xeff,0xee1,0xec3,0xea5,0xe87,0xe69,0xe4c,0xe2e,0xe11,
                    0xdf3,0xdd6,0xdb9,0xd9c,0xd80,0xd63,0xd46,0xd2a,0xd0d,0xcf1,0xcd5,0xcb9,
                    0xc9d,0xc81,0xc66,0xc4a,0xc2f,0xc13,0xbf8,0xbdd,0xbc2,0xba7,0xb8c,0xb72,
                    0xb57,0xb3d,0xb22,0xb08,0xaee,0xad4,0xaba,0xaa1,0xa87,0xa6d,0xa54,0xa3b,
                    0xa22,0xa09,0x9f0,0x9d7,0x9be,0x9a6,0x98d,0x975,0x95d,0x945,0x92d,0x915,
                    0x8fd,0x8e5,0x8ce,0x8b7,0x89f,0x888,0x871,0x85a,0x843,0x82d,0x816,0x800,
                    0x7e9,0x7d3,0x7bd,0x7a7,0x791,0x77b,0x766,0x750,0x73b,0x726,0x711,0x6fc,
                    0x6e7,0x6d2,0x6bd,0x6a9,0x694,0x680,0x66c,0x658,0x644,0x630,0x61c,0x609,
                    0x5f5,0x5e2,0x5cf,0x5bc,0x5a9,0x596,0x583,0x570,0x55e,0x54b,0x539,0x527,
                    0x515,0x503,0x4f1,0x4e0,0x4ce,0x4bd,0x4ac,0x49a,0x489,0x478,0x468,0x457,
                    0x446,0x436,0x426,0x416,0x405,0x3f6,0x3e6,0x3d6,0x3c6,0x3b7,0x3a8,0x398,
                    0x389,0x37a,0x36c,0x35d,0x34e,0x340,0x331,0x323,0x315,0x307,0x2f9,0x2ec,
                    0x2de,0x2d1,0x2c3,0x2b6,0x2a9,0x29c,0x28f,0x282,0x276,0x269,0x25d,0x251,
                    0x244,0x238,0x22d,0x221,0x215,0x20a,0x1fe,0x1f3,0x1e8,0x1dd,0x1d2,0x1c7,
                    0x1bd,0x1b2,0x1a8,0x19e,0x193,0x189,0x180,0x176,0x16c,0x163,0x159,0x150,
                    0x147,0x13e,0x135,0x12c,0x124,0x11b,0x113,0x10b,0x102,0xfa,0xf3,0xeb,
                    0xe3,0xdc,0xd4,0xcd,0xc6,0xbf,0xb8,0xb1,0xab,0xa4,0x9e,0x98,
                    0x91,0x8b,0x86,0x80,0x7a,0x75,0x6f,0x6a,0x65,0x60,0x5b,0x56,
                    0x52,0x4d,0x49,0x45,0x41,0x3d,0x39,0x35,0x32,0x2e,0x2b,0x27,
                    0x24,0x21,0x1f,0x1c,0x19,0x17,0x14,0x12,0x10,0xe,0xc,0xb,
                    0x9,0x8,0x6,0x5,0x4,0x3,0x2,0x2,0x1,0x1,0x0,0x0,
                    0x0,0x0,0x0,0x1,0x1,0x2,0x2,0x3,0x4,0x5,0x6,0x8,
                    0x9,0xb,0xc,0xe,0x10,0x12,0x14,0x17,0x19,0x1c,0x1f,0x21,
                    0x24,0x27,0x2b,0x2e,0x32,0x35,0x39,0x3d,0x41,0x45,0x49,0x4d,
                    0x52,0x56,0x5b,0x60,0x65,0x6a,0x6f,0x75,0x7a,0x80,0x86,0x8b,
                    0x91,0x98,0x9e,0xa4,0xab,0xb1,0xb8,0xbf,0xc6,0xcd,0xd4,0xdc,
                    0xe3,0xeb,0xf3,0xfa,0x102,0x10b,0x113,0x11b,0x124,0x12c,0x135,0x13e,
                    0x147,0x150,0x159,0x163,0x16c,0x176,0x180,0x189,0x193,0x19e,0x1a8,0x1b2,
                    0x1bd,0x1c7,0x1d2,0x1dd,0x1e8,0x1f3,0x1fe,0x20a,0x215,0x221,0x22d,0x238,
                    0x244,0x251,0x25d,0x269,0x276,0x282,0x28f,0x29c,0x2a9,0x2b6,0x2c3,0x2d1,
                    0x2de,0x2ec,0x2f9,0x307,0x315,0x323,0x331,0x340,0x34e,0x35d,0x36c,0x37a,
                    0x389,0x398,0x3a8,0x3b7,0x3c6,0x3d6,0x3e6,0x3f6,0x405,0x416,0x426,0x436,
                    0x446,0x457,0x468,0x478,0x489,0x49a,0x4ac,0x4bd,0x4ce,0x4e0,0x4f1,0x503,
                    0x515,0x527,0x539,0x54b,0x55e,0x570,0x583,0x596,0x5a9,0x5bc,0x5cf,0x5e2,
                    0x5f5,0x609,0x61c,0x630,0x644,0x658,0x66c,0x680,0x694,0x6a9,0x6bd,0x6d2,
                    0x6e7,0x6fc,0x711,0x726,0x73b,0x750,0x766,0x77b,0x791,0x7a7,0x7bd,0x7d3,
                    0x7e9,0x800,0x816,0x82d,0x843,0x85a,0x871,0x888,0x89f,0x8b7,0x8ce,0x8e5,
                    0x8fd,0x915,0x92d,0x945,0x95d,0x975,0x98d,0x9a6,0x9be,0x9d7,0x9f0,0xa09,
                    0xa22,0xa3b,0xa54,0xa6d,0xa87,0xaa1,0xaba,0xad4,0xaee,0xb08,0xb22,0xb3d,
                    0xb57,0xb72,0xb8c,0xba7,0xbc2,0xbdd,0xbf8,0xc13,0xc2f,0xc4a,0xc66,0xc81,
                    0xc9d,0xcb9,0xcd5,0xcf1,0xd0d,0xd2a,0xd46,0xd63,0xd80,0xd9c,0xdb9,0xdd6,
                    0xdf3,0xe11,0xe2e,0xe4c,0xe69,0xe87,0xea5,0xec3,0xee1,0xeff,0xf1d,0xf3c,
                    0xf5a,0xf79,0xf97,0xfb6,0xfd5,0xff4,0x1013,0x1033,0x1052,0x1071,0x1091,0x10b1,
                    0x10d1,0x10f1,0x1111,0x1131,0x1151,0x1171,0x1192,0x11b2,0x11d3,0x11f4,0x1215,0x1236,
                    0x1257,0x1278,0x129a,0x12bb,0x12dd,0x12fe,0x1320,0x1342,0x1364,0x1386,0x13a8,0x13cb,
                    0x13ed,0x1410,0x1432,0x1455,0x1478,0x149b,0x14be,0x14e1,0x1504,0x1528,0x154b,0x156f,
                    0x1592,0x15b6,0x15da,0x15fe,0x1622,0x1646,0x166b,0x168f,0x16b4,0x16d8,0x16fd,0x1722,
                    0x1747,0x176c,0x1791,0x17b6,0x17dc,0x1801,0x1827,0x184c,0x1872,0x1898,0x18be,0x18e4,
                    0x190a,0x1930,0x1957,0x197d,0x19a4,0x19cb,0x19f1,0x1a18,0x1a3f,0x1a66,0x1a8d,0x1ab5,
                    0x1adc,0x1b04,0x1b2b,0x1b53,0x1b7b,0x1ba3,0x1bca,0x1bf3,0x1c1b,0x1c43,0x1c6b,0x1c94,
                    0x1cbc,0x1ce5,0x1d0e,0x1d37,0x1d60,0x1d89,0x1db2,0x1ddb,0x1e05,0x1e2e,0x1e58,0x1e81,
                    0x1eab,0x1ed5,0x1eff,0x1f29,0x1f53,0x1f7d,0x1fa7,0x1fd2,0x1ffc,0x2027,0x2052,0x207c,
                    0x20a7,0x20d2,0x20fd,0x2128,0x2154,0x217f,0x21aa,0x21d6,0x2202,0x222d,0x2259,0x2285,
                    0x22b1,0x22dd,0x2309,0x2336,0x2362,0x238e,0x23bb,0x23e8,0x2414,0x2441,0x246e,0x249b,
                    0x24c8,0x24f5,0x2523,0x2550,0x257d,0x25ab,0x25d9,0x2606,0x2634,0x2662,0x2690,0x26be,
                    0x26ec,0x271a,0x2749,0x2777,0x27a6,0x27d4,0x2803,0x2832,0x2861,0x2890,0x28bf,0x28ee,
                    0x291d,0x294c,0x297c,0x29ab,0x29db,0x2a0a,0x2a3a,0x2a6a,0x2a9a,0x2aca,0x2afa,0x2b2a,
                    0x2b5a,0x2b8a,0x2bbb,0x2beb,0x2c1c,0x2c4c,0x2c7d,0x2cae,0x2cdf,0x2d10,0x2d41,0x2d72,
                    0x2da3,0x2dd4,0x2e06,0x2e37,0x2e69,0x2e9a,0x2ecc,0x2efe,0x2f30,0x2f62,0x2f94,0x2fc6,
                    0x2ff8,0x302a,0x305c,0x308f,0x30c1,0x30f4,0x3127,0x3159,0x318c,0x31bf,0x31f2,0x3225,
                    0x3258,0x328b,0x32be,0x32f2,0x3325,0x3359,0x338c,0x33c0,0x33f4,0x3427,0x345b,0x348f,
                    0x34c3,0x34f7,0x352b,0x3560,0x3594,0x35c8,0x35fd,0x3631,0x3666,0x369b,0x36cf,0x3704,
                    0x3739,0x376e,0x37a3,0x37d8,0x380d,0x3843,0x3878,0x38ad,0x38e3,0x3918,0x394e,0x3984,
                    0x39b9,0x39ef,0x3a25,0x3a5b,0x3a91,0x3ac7,0x3afd,0x3b34,0x3b6a,0x3ba0,0x3bd7,0x3c0d,
                    0x3c44,0x3c7a,0x3cb1,0x3ce8,0x3d1f,0x3d55,0x3d8c,0x3dc3,0x3dfa,0x3e32,0x3e69,0x3ea0,
                    0x3ed7,0x3f0f,0x3f46,0x3f7e,0x3fb6,0x3fed,0x4025,0x405d,0x4095,0x40cc,0x4104,0x413c,
                    0x4175,0x41ad,0x41e5,0x421d,0x4256,0x428e,0x42c7,0x42ff,0x4338,0x4370,0x43a9,0x43e2,
                    0x441b,0x4453,0x448c,0x44c5,0x44ff,0x4538,0x4571,0x45aa,0x45e3,0x461d,0x4656,0x4690,
                    0x46c9,0x4703,0x473c,0x4776,0x47b0,0x47ea,0x4823,0x485d,0x4897,0x48d1,0x490b,0x4946,
                    0x4980,0x49ba,0x49f4,0x4a2f,0x4a69,0x4aa4,0x4ade,0x4b19,0x4b53,0x4b8e,0x4bc9,0x4c03,
                    0x4c3e,0x4c79,0x4cb4,0x4cef,0x4d2a,0x4d65,0x4da0,0x4ddb,0x4e17,0x4e52,0x4e8d,0x4ec9,
                    0x4f04,0x4f3f,0x4f7b,0x4fb6,0x4ff2,0x502e,0x5069,0x50a5,0x50e1,0x511d,0x5159,0x5195,
                    0x51d1,0x520d,0x5249,0x5285,0x52c1,0x52fd,0x5339,0x5376,0x53b2,0x53ee,0x542b,0x5467,
                    0x54a4,0x54e0,0x551d,0x555a,0x5596,0x55d3,0x5610,0x564d,0x568a,0x56c6,0x5703,0x5740,
                    0x577d,0x57ba,0x57f7,0x5835,0x5872,0x58af,0x58ec,0x592a,0x5967,0x59a4,0x59e2,0x5a1f,
                    0x5a5d,0x5a9a,0x5ad8,0x5b15,0x5b53,0x5b90,0x5bce,0x5c0c,0x5c4a,0x5c87,0x5cc5,0x5d03,
                    0x5d41,0x5d7f,0x5dbd,0x5dfb,0x5e39,0x5e77,0x5eb5,0x5ef3,0x5f32,0x5f70,0x5fae,0x5fec,
                    0x602b,0x6069,0x60a7,0x60e6,0x6124,0x6163,0x61a1,0x61e0,0x621e,0x625d,0x629b,0x62da,
                    0x6319,0x6357,0x6396,0x63d5,0x6413,0x6452,0x6491,0x64d0,0x650f,0x654e,0x658d,0x65cc,
                    0x660b,0x664a,0x6689,0x66c8,0x6707,0x6746,0x6785,0x67c4,0x6803,0x6843,0x6882,0x68c1,
                    0x6900,0x6940,0x697f,0x69be,0x69fe,0x6a3d,0x6a7d,0x6abc,0x6afc,0x6b3b,0x6b7a,0x6bba,
                    0x6bfa,0x6c39,0x6c79,0x6cb8,0x6cf8,0x6d38,0x6d77,0x6db7,0x6df7,0x6e36,0x6e76,0x6eb6,
                    0x6ef5,0x6f35,0x6f75,0x6fb5,0x6ff5,0x7034,0x7074,0x70b4,0x70f4,0x7134,0x7174,0x71b4,
                    0x71f4,0x7234,0x7274,0x72b4,0x72f4,0x7334,0x7374,0x73b4,0x73f4,0x7434,0x7474,0x74b4,
                    0x74f4,0x7534,0x7574,0x75b4,0x75f5,0x7635,0x7675,0x76b5,0x76f5,0x7735,0x7776,0x77b6,
                    0x77f6,0x7836,0x7876,0x78b7,0x78f7,0x7937,0x7977,0x79b8,0x79f8,0x7a38,0x7a78,0x7ab9,
                    0x7af9,0x7b39,0x7b7a,0x7bba,0x7bfa,0x7c3b,0x7c7b,0x7cbb,0x7cfc,0x7d3c,0x7d7c,0x7dbc,
                    0x7dfd,0x7e3d,0x7e7d,0x7ebe,0x7efe,0x7f3e,0x7f7f,0x7fbf,0x8000,};
*/
Uint16 audioState;
interrupt void timer1Isr()
{
    CpuTimer1Regs.TCR.bit.TIF = 1;
    return;
}

/* ---PART 1's ISR ---
interrupt void audioIsr(void)
{
    enum{REC_MIX_NOT_DONE,REC_DONE, MIX_DONE,};
    static Uint16 recState = REC;
    static Uint32 currentSramIndex = 0;

    if( audioState == REC )
    {

        if(currentSramIndex <= SRAM_END && recState != REC_DONE)
            sram[currentSramIndex++] = McbspbRegs.DRR2.all;
        else
        {
            setLEDS(0x01);
            recState = REC_DONE;
            currentSramIndex = 0;
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
        }
        int16 temp = McbspbRegs.DRR1.all;
        McbspbRegs.DXR1.all = 0x00;
        McbspbRegs.DXR2.all = 0x00;
    }

    else if( audioState == MIX  )
    {
        if(currentSramIndex <= SRAM_END && recState != MIX_DONE )
            sram[currentSramIndex++] = ((int16)sram[currentSramIndex])/2 + ((int16)McbspbRegs.DRR2.all)/2;
        else
        {
            setLEDS(0x01);
            recState = MIX_DONE;
            currentSramIndex = 0;
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
        }
        int16 temp = McbspbRegs.DRR1.all;
        McbspbRegs.DXR1.all = 0x00;
        McbspbRegs.DXR2.all = 0x00;
    }
    else if( audioState == PLAY  )
    {
        if(currentSramIndex <= SRAM_END)
        {
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
            McbspbRegs.DXR2.all = sram[currentSramIndex++];
        }
        else
        {
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
            McbspbRegs.DXR2.all = 0x00;
            currentSramIndex = 0x00;
        }
        McbspbRegs.DXR1.all = 0x00;
        recState = REC_MIX_NOT_DONE;
        setLEDS(0x00);
    }

    else if( audioState == IDLE )
    {
        Uint16 temp = McbspbRegs.DRR1.all;
        temp = McbspbRegs.DRR2.all;
        McbspbRegs.DXR1.all = 0x00;
        McbspbRegs.DXR2.all = 0x00;
        recState = REC_MIX_NOT_DONE;
        currentSramIndex = 0x00;
        setLEDS(0x00);
    }

    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}
*/

/* ---PART 2's ISR ---
interrupt void audioIsr(void)
{
    GpioDataRegs.GPATOGGLE.bit.GPIO14 = 1;
    McbspbRegs.DXR1.all = McbspbRegs.DRR1.all;
    McbspbRegs.DXR2.all = McbspbRegs.DRR2.all;
    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}
*/

/* ---PART 3's ISR --- */
interrupt void audioIsr(void)
{
    static Uint32 currentSramIndex = 0;

    if( audioState == REC_48 )
    {

        if(currentSramIndex <= SRAM_END)
        {    /*--- PART3.2 ---
            if(currentSramIndex == 0x00)
                sram[currentSramIndex] = McbspbRegs.DRR2.all;
            else
            {
                sram[currentSramIndex] = McbspbRegs.DRR2.all;
                sram[currentSramIndex-1] = (int16)sram[currentSramIndex-2]/2 + (int16)sram[currentSramIndex]/2;
            }
            currentSramIndex += 2;
            */
            /*--- PART3.3 ---*/
            static Uint16 state = 0;
            if(state < 4)
            { Uint16 temp = McbspbRegs.DRR2.all; }
            else
            {
                sram[currentSramIndex++] = McbspbRegs.DRR2.all;
                state = 0;
            }

            state++;

        }
        else
        {
            setLEDS(0x01);
            audioState = PLAY_32;
            currentSramIndex = 0;
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
        }
        int16 temp = McbspbRegs.DRR1.all;
        McbspbRegs.DXR1.all = 0x00;
        McbspbRegs.DXR2.all = 0x00;
    }
    else if( audioState == PLAY_32 || audioState == PLAY_8 || audioState == PLAY_48)
    {
        if(currentSramIndex <= SRAM_END)
        {
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
            McbspbRegs.DXR2.all = sram[currentSramIndex++];

        }
        else
        {
            Uint16 temp = McbspbRegs.DRR1.all;
            temp = McbspbRegs.DRR2.all;
            McbspbRegs.DXR2.all = 0x00;
            currentSramIndex = 0x00;
        }
        McbspbRegs.DXR1.all = 0x00;
    }
    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}


#define ALPHA 0.3

/* ---PART 4.1's ISR ---
interrupt void audioIsr(void)
{
    static Uint32 currentSramIndex = 0;

    if(currentSramIndex <= SRAM_END)
    {
        sram[currentSramIndex++] = McbspbRegs.DRR2.all;
        int32 echoIndex = currentSramIndex + (getSwitches()*480);
        if(echoIndex < 0)
            echoIndex = SRAM_END + echoIndex;
        float f = (1-ALPHA)*(int16)sram[echoIndex] + ALPHA*(int16)sram[currentSramIndex];
        McbspbRegs.DXR2.all = (int16)f;
    }
    else
    {
        currentSramIndex = 0;
        McbspbRegs.DXR2.all = sram[currentSramIndex];
    }


    int16 temp = McbspbRegs.DRR1.all;
    McbspbRegs.DXR1.all = 0x00;


    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}*/


/* ---PART 4.2's ISR ---
interrupt void audioIsr(void)
{
    static Uint32 currentSramIndex = 0;

    if(currentSramIndex < (SRAM_END+1)/2)
    {
        int32 echoIndex = currentSramIndex - (getSwitches()*12000);
        if(echoIndex < 0)
            echoIndex = (SRAM_END+1)/2 - echoIndex;
        sram[currentSramIndex] = McbspbRegs.DRR2.all;
        float f = (1-ALPHA)*(int16)sram[currentSramIndex] + ALPHA*(int16)sram[echoIndex + (SRAM_END+1)/2];
        sram[currentSramIndex + (SRAM_END+1)/2] = (int16)f;
        McbspbRegs.DXR2.all = sram[currentSramIndex + (SRAM_END+1)/2];
        currentSramIndex++;
    }
    else
    {
        currentSramIndex = 0;
        McbspbRegs.DXR2.all = sram[currentSramIndex];
    }


    int16 temp = McbspbRegs.DRR1.all;
    McbspbRegs.DXR1.all = 0x00;


    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}*/

//#define SINE_SIZE 3200
/* --- Quiz's ISR ---
interrupt void audioIsr(void)
{
//    static Uint32 currentSramIndex = 0;
    static Uint32 currentSineIndex = 0;
    if(currentSineIndex < SINE_SIZE)
        currentSineIndex++;
    else
        currentSineIndex = 0;
    float tempQ = ((int16)McbspbRegs.DRR2.all) * ((float)sine15Hz[currentSineIndex]/65535.0) + 0.25;
    McbspbRegs.DXR2.all = (int16)tempQ;
    int16 temp = McbspbRegs.DRR1.all;
    McbspbRegs.DXR1.all = 0x00;


    PieCtrlRegs.PIEACK.all = PIEACK_GROUP6;
}
*/
